(function(e){function t(t){for(var n,i,a=t[0],l=t[1],c=t[2],u=0,d=[];u<a.length;u++)i=a[u],Object.prototype.hasOwnProperty.call(s,i)&&s[i]&&d.push(s[i][0]),s[i]=0;for(n in l)Object.prototype.hasOwnProperty.call(l,n)&&(e[n]=l[n]);m&&m(t);while(d.length)d.shift()();return o.push.apply(o,c||[]),r()}function r(){for(var e,t=0;t<o.length;t++){for(var r=o[t],n=!0,i=1;i<r.length;i++){var a=r[i];0!==s[a]&&(n=!1)}n&&(o.splice(t--,1),e=l(l.s=r[0]))}return e}var n={},i={app:0},s={app:0},o=[];function a(e){return l.p+"js/"+({}[e]||e)+"."+{"chunk-18f5c9dc":"daa619e6","chunk-21c8269c":"28e38ffd","chunk-24eec660":"f0626a1f","chunk-26a0b046":"6e435219","chunk-2d0cbca3":"d4d6ace3","chunk-2d0e2720":"e07b0791","chunk-2d2167ab":"31bbeb10","chunk-40662cc3":"8e5a9443","chunk-71367435":"c4acd323","chunk-73daf936":"8e5f8345","chunk-81eea4b8":"bd96e120","chunk-94977566":"1254d0e1"}[e]+".js"}function l(t){if(n[t])return n[t].exports;var r=n[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,l),r.l=!0,r.exports}l.e=function(e){var t=[],r={"chunk-18f5c9dc":1,"chunk-21c8269c":1,"chunk-24eec660":1,"chunk-26a0b046":1,"chunk-40662cc3":1,"chunk-71367435":1,"chunk-73daf936":1,"chunk-81eea4b8":1};i[e]?t.push(i[e]):0!==i[e]&&r[e]&&t.push(i[e]=new Promise((function(t,r){for(var n="css/"+({}[e]||e)+"."+{"chunk-18f5c9dc":"a5140efd","chunk-21c8269c":"02a5964a","chunk-24eec660":"cde58605","chunk-26a0b046":"59e9a848","chunk-2d0cbca3":"31d6cfe0","chunk-2d0e2720":"31d6cfe0","chunk-2d2167ab":"31d6cfe0","chunk-40662cc3":"9a22341e","chunk-71367435":"42eda264","chunk-73daf936":"cb5713ac","chunk-81eea4b8":"07cfbfb2","chunk-94977566":"31d6cfe0"}[e]+".css",s=l.p+n,o=document.getElementsByTagName("link"),a=0;a<o.length;a++){var c=o[a],u=c.getAttribute("data-href")||c.getAttribute("href");if("stylesheet"===c.rel&&(u===n||u===s))return t()}var d=document.getElementsByTagName("style");for(a=0;a<d.length;a++){c=d[a],u=c.getAttribute("data-href");if(u===n||u===s)return t()}var m=document.createElement("link");m.rel="stylesheet",m.type="text/css",m.onload=t,m.onerror=function(t){var n=t&&t.target&&t.target.src||s,o=new Error("Loading CSS chunk "+e+" failed.\n("+n+")");o.code="CSS_CHUNK_LOAD_FAILED",o.request=n,delete i[e],m.parentNode.removeChild(m),r(o)},m.href=s;var p=document.getElementsByTagName("head")[0];p.appendChild(m)})).then((function(){i[e]=0})));var n=s[e];if(0!==n)if(n)t.push(n[2]);else{var o=new Promise((function(t,r){n=s[e]=[t,r]}));t.push(n[2]=o);var c,u=document.createElement("script");u.charset="utf-8",u.timeout=120,l.nc&&u.setAttribute("nonce",l.nc),u.src=a(e);var d=new Error;c=function(t){u.onerror=u.onload=null,clearTimeout(m);var r=s[e];if(0!==r){if(r){var n=t&&("load"===t.type?"missing":t.type),i=t&&t.target&&t.target.src;d.message="Loading chunk "+e+" failed.\n("+n+": "+i+")",d.name="ChunkLoadError",d.type=n,d.request=i,r[1](d)}s[e]=void 0}};var m=setTimeout((function(){c({type:"timeout",target:u})}),12e4);u.onerror=u.onload=c,document.head.appendChild(u)}return Promise.all(t)},l.m=e,l.c=n,l.d=function(e,t,r){l.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},l.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},l.t=function(e,t){if(1&t&&(e=l(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(l.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)l.d(r,n,function(t){return e[t]}.bind(null,n));return r},l.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return l.d(t,"a",t),t},l.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},l.p="https://developer.safaricom.co.ke/",l.oe=function(e){throw console.error(e),e};var c=window["webpackJsonp"]=window["webpackJsonp"]||[],u=c.push.bind(c);c.push=t,c=c.slice();for(var d=0;d<c.length;d++)t(c[d]);var m=u;o.push([0,"chunk-vendors"]),r()})({0:function(e,t,r){e.exports=r("56d7")},"034f":function(e,t,r){"use strict";var n=r("85ec"),i=r.n(n);i.a},"56d7":function(e,t,r){"use strict";r.r(t);r("e260"),r("e6cf"),r("cca6"),r("a79d");var n=r("2b0e"),i=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-app",[r("vue-progress-bar"),"/"!==e.$route.path?r("Appbar"):e._e(),r("vue-page-transition",{attrs:{name:"flip-y"}},[r("router-view")],1),r("ServiceDowntime")],1)},s=[],o=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-card",{staticClass:"elevation-15",attrs:{tile:""}},[r("v-app-bar",{staticClass:"elevation-20",staticStyle:{"border-radius":"0"},attrs:{app:"",fixed:"",color:"primary",dark:"","clipped-left":"",src:e.$store.getters.server+"img/backdrops/"+e.$store.getters.background},scopedSlots:e._u([{key:"img",fn:function(t){var n=t.props;return[r("v-img",e._b({attrs:{gradient:"to top right, rgba(20, 130, 65, 0.9) 0%, rgb(52, 124, 9) 5%, rgba(34, 157, 0, 0.67) 100%"}},"v-img",n,!1))]}},{key:"extension",fn:function(){return[r("v-tabs",{attrs:{"align-with-title":"",dark:"",color:"yellow","slider-color":"yellow","background-color":"rgba(0,0,0,.1)","show-arrows":"","center-active":"","next-icon":"mdi-chevron-right-box-outline","prev-icon":"mdi-chevron-left-box-outline"}},[r("v-tab",{attrs:{to:"/"}},[r("v-icon",{attrs:{left:""}},[e._v("mdi-home-account")]),e._v("HOME ")],1),e.$store.getters.token?r("v-tab",{attrs:{to:"/Profile"}},[r("v-icon",{attrs:{left:""}},[e._v("mdi-account-circle-outline")]),e._v("PROFILE ")],1):e._e(),e.$store.getters.token?r("v-tab",{attrs:{to:"/MyApps"}},[r("v-icon",{attrs:{left:""}},[e._v("mdi-webpack")]),e._v("MY APPS ")],1):e._e(),r("v-tab",{attrs:{to:"/APIs"}},[r("v-icon",{attrs:{left:""}},[e._v("mdi-webhook")]),e._v("APIs ")],1),r("v-tab",{attrs:{to:"/Documentation"}},[r("v-icon",{attrs:{left:""}},[e._v("mdi-file-document-outline")]),e._v("DOCS ")],1),e.$store.getters.token?r("v-tab",{attrs:{to:"/GoLive"}},[r("v-icon",{attrs:{left:""}},[e._v("mdi-cloud-print-outline")]),e._v("GO LIVE ")],1):e._e(),r("v-tab",{attrs:{to:"/FAQs"}},[r("v-icon",{attrs:{left:""}},[e._v("mdi-help-circle-outline")]),e._v("FAQs ")],1),r("v-tab",{attrs:{to:"/Forum"}},[r("v-icon",{attrs:{left:""}},[e._v("mdi-podcast")]),e._v("Forum ")],1),e.$store.getters.token?r("v-tab",{attrs:{to:"/MiniApps"}},[r("v-icon",{attrs:{left:""}},[e._v("mdi-shape-plus")]),e._v("MINI-APPS ")],1):e._e()],1)]},proxy:!0}])},[r("v-avatar",{staticClass:"elevation-10",attrs:{color:"primary",size:"50"}},[e.ComputeAvatar?r("img",{attrs:{src:e.ComputeAvatar}}):e.LocalStorage.avatar?r("img",{attrs:{src:e.LocalStorage.avatar}}):r("span",{staticClass:"headline white--text"},[e._v(e._s(e.ComputeFirstName.substring(0,1)))])]),r("div",{staticClass:"ml-3"},[r("div",{staticClass:"title font-weight-regular"},[e._v(" Welcome, "),r("span",{staticClass:"font-weight-bold"},[e._v(e._s(e.ComputeFirstName))])]),r("div",{staticClass:"caption mt-n1"},[e._v(" "+e._s(e.ComputeSignedIn)+" ")])]),r("v-spacer"),r("div",{staticClass:"hidden-xs-only"},[e.$store.getters.token?r("v-btn",{attrs:{outlined:"",rounded:""},on:{click:e.Logout}},[e._v("LOGOUT")]):r("div",[r("v-btn",{staticClass:"mr-3",attrs:{outlined:"",rounded:""},on:{click:function(t){e.$refs.Authorization.login.visible=!0}}},[e._v("LOGIN")]),r("v-btn",{attrs:{outlined:"",rounded:""},on:{click:function(t){e.$refs.Authorization.signup.visible=!0}}},[e._v("SIGNUP")])],1)],1),r("div",{staticClass:"hidden-sm-and-up"},[e.$store.getters.token?r("v-menu",{attrs:{transition:"fade-transition"},scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on;return[r("v-btn",e._g({attrs:{"x-large":"",fab:"",dark:"",text:"",color:"white"}},n),[r("v-icon",[e._v("mdi-dots-vertical")])],1)]}}],null,!1,1066216681)},[r("v-list",[r("v-list-item",[r("v-btn",{attrs:{text:""},on:{click:e.Logout}},[e._v("Logout ")])],1)],1)],1):r("v-menu",{attrs:{transition:"fade-transition"},scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on;return[r("v-btn",e._g({attrs:{"x-large":"",fab:"",dark:"",text:"",color:"white"}},n),[r("v-icon",[e._v("mdi-dots-vertical")])],1)]}}])},[r("v-list",[r("v-list-item",[r("v-btn",{attrs:{text:""},on:{click:function(t){e.$refs.Authorization.login.visible=!0}}},[e._v("Login ")])],1),r("v-list-item",[r("v-btn",{attrs:{text:""},on:{click:function(t){e.$refs.Authorization.signup.visible=!0}}},[e._v("Sign Up ")])],1)],1)],1)],1)],1),r("Authorization",{ref:"Authorization"})],1)},a=[],l=r("c96b"),c={components:{Authorization:l["a"]}},u=c,d=r("2877"),m=Object(d["a"])(u,o,a,!1,null,null,null),p=m.exports,f=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-dialog",{attrs:{"max-width":"1000",transition:"dialog-bottom-transition"},model:{value:e.visible,callback:function(t){e.visible=t},expression:"visible"}},[r("v-card",{staticClass:"rounded-xl",attrs:{flat:"",tile:""}},[r("v-img",{staticClass:"my-8",staticStyle:{filter:"hue-rotate(293deg)"},attrs:{height:"230",src:e.$store.getters.server+"img/illustrations/website-maintenance.svg"}}),r("div",{staticClass:"mb-3 mx-5 text-body-2"},[r("div",{domProps:{innerHTML:e._s(e.notice)}}),r("v-switch",{attrs:{label:"Don't show this notice again.",color:"primary"},model:{value:e.dismiss,callback:function(t){e.dismiss=t},expression:"dismiss"}})],1),r("v-row",{staticClass:"pb-5",attrs:{"no-gutters":"",justify:"center"}},[r("v-btn",{attrs:{color:"primary",rounded:""},on:{click:e.Dismiss}},[e._v("CLOSE")])],1)],1)],1)},v=[],g=(r("d3b7"),{data:function(){return{dismiss:!1,visible:!1,notice:null}},mounted:function(){var e=this;fetch(this.$store.getters.endpoint+"ServiceDowntime/").then((function(t){t.text().then((function(t){t=JSON.parse(t),1===t.state?(e.notice=t.notice,localStorage.ServiceDowntime?1==localStorage.ServiceDowntime&&(e.visible=!0):(localStorage.ServiceDowntime=1,e.visible=!0)):localStorage.removeItem("ServiceDowntime")}))}))},methods:{Dismiss:function(){this.visible=!1,this.dismiss&&(localStorage.ServiceDowntime=0)}}}),h=g,b=Object(d["a"])(h,f,v,!1,null,null,null),y=b.exports,k={components:{Appbar:p,ServiceDowntime:y},beforeCreate:function(){localStorage.daraja&&this.$store.dispatch("StoreToken",localStorage.daraja)}},w=k,C=(r("034f"),Object(d["a"])(w,i,s,!1,null,null,null)),x=C.exports,A=(r("b0c0"),r("8c4f")),$=r("2f62"),_="https://developer.safaricom.co.ke/";n["default"].use($["a"]);var P=new $["a"].Store({state:{server:_,endpoint:"".concat(_,"api/v1/"),logo:"".concat(_,"api/uploads/logo/"),fetchTimeout:3e4,fetchTimeoutError:"Could not resolve your request on time. Probably due to slow network or no internet.",background:"bg1.jpg",drawer:{visible:!0,miniVariant:"true"==localStorage.miniVariant,loading:!1,parents:[]},API:{CheckoutRequestID:null},APIdetails:[],token:null},mutations:{APIdetails:function(e,t){e.APIdetails=t},StoreToken:function(e,t){e.token=t}},actions:{APIdetails:function(e,t){var r=e.commit;r("APIdetails",t)},StoreToken:function(e,t){var r=e.commit;r("StoreToken",t)}},modules:{},getters:{server:function(e){return e.server},endpoint:function(e){return e.endpoint},logo:function(e){return e.logo},fetchTimeout:function(e){return e.fetchTimeout},fetchTimeoutError:function(e){return e.fetchTimeoutError},background:function(e){return e.background},CheckoutRequestID:function(e){return e.API.CheckoutRequestID},APIdetails:function(e){return e.APIdetails},token:function(e){return e.token}}});n["default"].use(A["a"]);var S=new A["a"]({mode:"history",base:!1,routes:[{name:"Home",path:"/",component:function(){return r.e("chunk-26a0b046").then(r.bind(null,"bb51"))}},{name:"Login",path:"/Login",component:function(){return r.e("chunk-71367435").then(r.bind(null,"a55b"))}},{name:"Documentation",path:"/Documentation",component:function(){return r.e("chunk-18f5c9dc").then(r.bind(null,"8bae"))}},{name:"MyApps",path:"/MyApps",component:function(){return r.e("chunk-2d2167ab").then(r.bind(null,"c349"))}},{name:"GoLive",path:"/GoLive",component:function(){return r.e("chunk-21c8269c").then(r.bind(null,"5a99"))}},{name:"FAQs",path:"/FAQs",component:function(){return r.e("chunk-94977566").then(r.bind(null,"9880"))}},{name:"Forum",path:"/Forum",component:function(){return r.e("chunk-24eec660").then(r.bind(null,"5916"))}},{name:"APIs",path:"/APIs",component:function(){return r.e("chunk-2d0cbca3").then(r.bind(null,"4abb"))}},{name:"Profile",path:"/Profile",component:function(){return r.e("chunk-81eea4b8").then(r.bind(null,"c66d"))}},{name:"Chat",path:"/Chat",component:function(){return r.e("chunk-73daf936").then(r.bind(null,"293a"))}},{name:"API",path:"/APIs/:API",component:function(){return r.e("chunk-40662cc3").then(r.bind(null,"6ebb"))}},{name:"Mini-Apps",path:"/MiniApps",component:function(){return r.e("chunk-2d0e2720").then(r.bind(null,"7f72"))}}]});S.beforeEach((function(e,t,r){fetch(P.getters.endpoint+"Metrics/",{method:"post",body:e.name}),"/"===e.path||"/Documentation"===e.path||"/FAQs"===e.path||"/APIs"===e.path||"/Forum"===e.path||"/Reloader"===e.path?r():localStorage.daraja?fetch(P.getters.endpoint+"Tokenify/",{method:"post",body:localStorage.daraja}).then((function(t){t.text().then((function(n){401==t.status?(localStorage.removeItem("daraja"),location.reload()):(localStorage.daraja=n,localStorage.LastRoute=e.path,clearInterval(window.tokenify),window.tokenify=setInterval((function(){fetch(P.getters.endpoint+"Tokenceptor/",{method:"post",body:localStorage.daraja}).then((function(e){e.text().then((function(){401==e.status&&(clearInterval(window.tokenify),location.reload())}))}))}),1e4),r())}))})):r("/")}));var E=S,O=r("9483");Object(O["a"])("".concat("https://developer.safaricom.co.ke/","service-worker.js"),{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered:function(){console.log("Service worker has been registered.")},cached:function(){console.log("Content has been cached for offline use.")},updatefound:function(){console.log("New content is downloading.")},updated:function(){console.log("New content is available; please refresh.")},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(e){console.error("Error during service worker registration:",e)}});var N=r("ce5b"),T=r.n(N);r("bf40");n["default"].use(T.a);var L=new T.a({theme:{options:{customProperties:!0},themes:{light:{primary:"#39b54a",secondary:"#424242",accent:"#82B1FF",error:"#FF5252",info:"#2196F3",success:"#4CAF50",warning:"#FFC107"}}}}),F=(r("d5e8"),r("5363"),r("77a0")),I=r.n(F),j=r("3a60"),U=r.n(j),M=r("26b9"),R=r.n(M),D=r("f0eb"),q=(r("caad"),r("ac1f"),r("3ca3"),r("1276"),r("ddb0"),{data:function(){var e=this;return{LocalStorage:localStorage,sandbox_authorization:"https://sandbox.safaricom.co.ke/oauth/v1/generate?grant_type=client_credentials",textpass:!1,validators:{required:function(e){return!!e||"Required."},password:function(e){return!!e&&e.length>=8||"Less characters."},confirm:function(t){return t===e.password.ConfirmPassword.value||"Not matching."},phone:function(e){return!!e&&10===e.length||"Invalid number."},OTP:function(e){return!!e&&e.length>=4||"Invalid OTP."},OrgName:function(e){return!!e&&e.length<100||"Organization name too long. Limit is 100 characters."},email:function(e){var t=/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;return t.test(e)||"Invalid e-mail."},AlphanumericsRegex:function(e){var t=/^[a-zA-Z0-9@.]+$/;return t.test(e)||"Invalid characters."},AlphanumericsAndSpacesRegex:function(e){var t=/^[\w\-\s]+$/;return t.test(e)||"Only alphanumeric,hyphens,underscores and spaces allowed."},AlphabetsRegex:function(e){var t=/^[a-zA-Z]+$/;return t.test(e)||"Only alphabets allowed"},NumericsRegex:function(e){var t=/^[+0-9]/;return t.test(e)||"Only numbers allowed"}}}},methods:{promiseFetch:function(e){return function(t){var r=new Promise((function(t,r){return setTimeout((function(){return r(new Error("Timeout expired"))}),e)}));return Promise.race([t,r])}},TextPass:function(){this.textpass=!this.textpass},Logout:function(){localStorage.removeItem("daraja"),localStorage.removeItem("avatar"),this.$store.dispatch("StoreToken",null);var e=["/MyApps","/API","/GoLive","/Profile"];e.includes(this.$route.fullPath)&&location.reload()}},computed:{ComputeFirstName:function(){return this.$store.getters.token?JSON.parse(atob(this.$store.getters.token.split(".")[1])).data.FirstName:"Coder"},ComputeLastName:function(){if(this.$store.getters.token)return JSON.parse(atob(this.$store.getters.token.split(".")[1])).data.LastName},ComputeUsername:function(){if(this.$store.getters.token)return JSON.parse(atob(this.$store.getters.token.split(".")[1])).data.username},ComputeSignedIn:function(){return this.$store.getters.token?"Signed in as "+JSON.parse(atob(this.$store.getters.token.split(".")[1])).data.username:"You are not signed in"},ComputeEmailAddress:function(){if(this.$store.getters.token)return JSON.parse(atob(this.$store.getters.token.split(".")[1])).data.EmailAddress},ComputeAvatar:function(){if(this.$store.getters.token)return JSON.parse(atob(this.$store.getters.token.split(".")[1])).data.avatar;localStorage.removeItem("avatar")}}}),G=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("section",[r("v-dialog",{attrs:{persistent:"","max-width":"300"},model:{value:e.alert.visible,callback:function(t){e.$set(e.alert,"visible",t)},expression:"alert.visible"}},[r("v-card",{attrs:{dark:"",tile:"",flat:"",height:"100",color:e.alert.color}},[r("v-layout",{attrs:{column:"","align-center":"","justify-center":"","fill-height":""}},[r("v-icon",{attrs:{"x-large":""}},[e._v(e._s(e.alert.icon))]),r("span",{staticClass:"title"},[e._v(e._s(e.alert.title))])],1)],1),r("v-card",{staticClass:"pt-5 pl-3 pr-1",attrs:{tile:"",flat:""}},[r("v-card-text",{staticClass:"black--text",domProps:{innerHTML:e._s(e.alert.content)}}),r("v-card-actions",[r("v-spacer"),r("v-btn",{attrs:{text:""},on:{click:function(t){e.alert.visible=!1}}},[e._v("OK")])],1)],1)],1)],1)},J=[],z=r("5530"),H={data:function(){return{alert:{visible:!1,icon:"mdi-check-decagram",title:null,color:void 0,content:"All fields need to be filled!"}}},methods:{Alertify:function(e){this.alert=Object(z["a"])(Object(z["a"])({},this.alert),e)}}},K=H,Q=Object(d["a"])(K,G,J,!1,null,null,null),Z=Q.exports,B=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("section",[r("v-dialog",{attrs:{persistent:"","max-width":"300"},on:{keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"esc",27,t.key,["Esc","Escape"])?null:e.onCancel(t)}},model:{value:e.confirm.visible,callback:function(t){e.$set(e.confirm,"visible",t)},expression:"confirm.visible"}},[r("v-card",{attrs:{dark:"",tile:"",flat:"",height:"100",color:e.confirm.color}},[r("v-layout",{attrs:{column:"","align-center":"","justify-center":"","fill-height":""}},[r("v-icon",{attrs:{"x-large":""}},[e._v(e._s(e.confirm.icon))]),r("span",{staticClass:"title"},[e._v(e._s(e.confirm.title))])],1)],1),r("v-card",{staticClass:"pt-5 pl-3 pr-1",attrs:{tile:"",flat:""}},[r("v-card-text",{staticClass:"black--text",domProps:{innerHTML:e._s(e.confirm.content)}}),r("v-card-actions",[r("v-spacer"),"HIDDEN"!=e.confirm.falsy?r("v-btn",{attrs:{text:""},on:{click:e.onCancel}},[e._v(e._s(e.confirm.falsy))]):e._e(),r("v-btn",{attrs:{text:""},on:{click:e.onConfirm}},[e._v(e._s(e.confirm.truth))])],1)],1)],1)],1)},V=[],W={data:function(){return{confirm:{visible:!1,operation:null,metadata:null,content:null,title:null,icon:null,color:null,truth:null,falsy:null}}},methods:{Confirmify:function(e){this.confirm=Object(z["a"])(Object(z["a"])({},this.confirm),e)},onConfirm:function(){this.$emit("confirm")},onCancel:function(){this.$emit("cancel")}}},Y=W,X=Object(d["a"])(Y,B,V,!1,null,null,null),ee=X.exports,te=r("1249");n["default"].mixin(q),n["default"].component("Alert",Z),n["default"].component("Confirm",ee),n["default"].use(I.a),n["default"].use(U.a),n["default"].use(D["default"]),n["default"].use(te["a"],{vuetify:L}),n["default"].use(R.a,{color:"rgb(143, 255, 199)",failedColor:"red",height:"2px"}),n["default"].config.productionTip=!1,new n["default"]({router:E,store:P,vuetify:L,render:function(e){return e(x)}}).$mount("#saf")},"85ec":function(e,t,r){},"872a":function(e,t,r){"use strict";var n=r("94db"),i=r.n(n);i.a},"94db":function(e,t,r){},c96b:function(e,t,r){"use strict";var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("section",[r("v-dialog",{attrs:{"max-width":"350",transition:"fab-transition"},model:{value:e.login.visible,callback:function(t){e.$set(e.login,"visible",t)},expression:"login.visible"}},[r("v-card",{staticClass:"rounded-lg",attrs:{flat:"",tile:""}},[r("v-toolbar",{attrs:{height:"35",dark:"",src:e.$store.getters.server+"img/backdrops/"+e.$store.getters.background},scopedSlots:e._u([{key:"img",fn:function(t){var n=t.props;return[r("v-img",e._b({attrs:{gradient:"to top right, rgba(57,181,74,.9), rgba(25,32,72,.6)"}},"v-img",n,!1))]}}])},[r("v-icon",[e._v("mdi-account-circle")]),r("span",{staticClass:"body-2 ml-3"},[e._v("Login")]),r("v-spacer"),r("v-icon",{staticClass:"ml-5",attrs:{size:"18"},on:{click:function(t){e.login.visible=!1}}},[e._v("mdi-close")])],1),r("div",{staticClass:"pt-2 px-5 pb-0 CustomFormModifier",staticStyle:{"max-height":"75vh","overflow-y":"auto","overflow-x":"hidden"}},[r("v-row",[r("v-col",{staticClass:"text-center"},[r("img",{staticClass:"mr-1 mt-2",attrs:{width:"80",src:e.$store.getters.server+"img/boat.png"}}),r("div",{staticClass:"headline"},[e._v("Login")]),r("div",{staticClass:"mb-4 text-caption"},[e._v(" Enter your email or username and password ")])])],1),r("v-form",{ref:"Login",staticClass:"px-5",model:{value:e.login.valid,callback:function(t){e.$set(e.login,"valid",t)},expression:"login.valid"}},[r("v-text-field",{attrs:{rules:e.login.EmailOrUsername&&e.login.EmailOrUsername.includes("@")?[e.validators.required,e.validators.email]:[e.validators.required,e.validators.AlphanumericsRegex],name:"email",label:"Email Address or Username *",maxlength:"50",outlined:"",dense:"",clearable:"",autofocus:"","prepend-inner-icon":"mdi-account-circle"},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.Login(t)}},model:{value:e.login.EmailOrUsername,callback:function(t){e.$set(e.login,"EmailOrUsername",t)},expression:"login.EmailOrUsername"}}),r("v-text-field",{attrs:{rules:[e.validators.required],name:"password",label:"Password *",maxlength:"50",outlined:"",dense:"",clearable:"",counter:"","prepend-inner-icon":"mdi-shield-key","append-icon":e.textpass?"mdi-eye":"mdi-eye-off",type:e.textpass?"text":"password"},on:{"click:append":e.TextPass,keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.Login(t)}},model:{value:e.login.password,callback:function(t){e.$set(e.login,"password",t)},expression:"login.password"}}),r("v-btn-toggle",{staticClass:"mt-2"},[r("v-btn",{staticStyle:{color:"white !important"},attrs:{color:"primary",width:"100",height:"35",small:"",disabled:!e.login.valid||e.login.loading,loading:e.login.loading},on:{click:e.Login}},[e._v("LOGIN")]),r("v-btn",{attrs:{color:"primary",width:"140",height:"35",outlined:"",disabled:e.login.loading},on:{click:e.GoToSignUp}},[e._v("GO TO SIGN UP")])],1),r("v-alert",{staticClass:"mt-3",attrs:{dense:"",type:"error",color:"orange",rounded:"",border:"left",elevation:"1"}},[r("span",{staticClass:"text-caption"},[r("strong",[e._v("NOTE:")]),e._v(" We have migrated to the new and exciting Daraja - version 2.0 - If you experience any challenge logging in, we recommend you reset your password for a smooth transition.")])]),r("div",{staticClass:"caption font-weight-bold mt-5 underline",on:{click:function(t){e.$refs.Reset.visible=!0}}},[e._v(" Forgot username or password? ")])],1),r("img",{attrs:{width:"100%",src:e.$store.getters.server+"img/_logo.png"}})],1)],1)],1),r("v-dialog",{attrs:{"max-width":"600",transition:"dialog-bottom-transition"},model:{value:e.signup.visible,callback:function(t){e.$set(e.signup,"visible",t)},expression:"signup.visible"}},[r("v-card",{staticClass:"rounded-lg",attrs:{flat:"",tile:""}},[r("v-toolbar",{attrs:{height:"35",dark:"",src:e.$store.getters.server+"img/backdrops/"+e.$store.getters.background},scopedSlots:e._u([{key:"img",fn:function(t){var n=t.props;return[r("v-img",e._b({attrs:{gradient:"to top right, rgba(57,181,74,.9), rgba(25,32,72,.6)"}},"v-img",n,!1))]}}])},[r("v-icon",[e._v("mdi-account-circle")]),r("span",{staticClass:"body-2 ml-3"},[e._v("Sign Up")]),r("v-spacer"),r("v-icon",{staticClass:"ml-5",attrs:{size:"18"},on:{click:function(t){e.signup.visible=!1}}},[e._v("mdi-close")])],1),r("div",{staticClass:"pt-2 px-5 pb-0 CustomFormModifier",staticStyle:{"max-height":"75vh","overflow-y":"auto","overflow-x":"hidden"}},[r("v-row",[r("v-col",{staticClass:"text-center"},[r("img",{staticClass:"mr-2 mt-2",attrs:{width:"80",src:this.$store.getters.server+"img/boat.png"}}),r("div",{staticClass:"headline"},[e._v("Sign Up")]),r("div",{staticClass:"mb-4 caption"},[e._v("Enter details to sign up")])])],1),r("v-form",{ref:"SignUp",staticClass:"CustomFormModifier",model:{value:e.signup.valid,callback:function(t){e.$set(e.signup,"valid",t)},expression:"signup.valid"}},[r("v-row",{attrs:{"no-gutters":""}},[r("v-col",{staticClass:"px-2",attrs:{cols:"12",lg:"6"}},[r("v-text-field",{attrs:{rules:[e.validators.required,e.validators.AlphabetsRegex],label:"First Name *",outlined:"",dense:"",name:"FirstName","prepend-inner-icon":"mdi-account-circle"},model:{value:e.signup.FirstName,callback:function(t){e.$set(e.signup,"FirstName","string"===typeof t?t.trim():t)},expression:"signup.FirstName"}})],1),r("v-col",{staticClass:"px-2",attrs:{cols:"12",lg:"6"}},[r("v-text-field",{attrs:{rules:[e.validators.required,e.validators.AlphabetsRegex],label:"Last Name *",outlined:"",dense:"",name:"LastName","prepend-inner-icon":"mdi-account-circle"},model:{value:e.signup.LastName,callback:function(t){e.$set(e.signup,"LastName","string"===typeof t?t.trim():t)},expression:"signup.LastName"}})],1),r("v-col",{staticClass:"px-2",attrs:{cols:"12",lg:"6"}},[r("v-text-field",{attrs:{rules:[e.validators.required,e.validators.email],label:"Email Address *",outlined:"",dense:"",name:"EmailAddress","prepend-inner-icon":"mdi-email-variant"},model:{value:e.signup.EmailAddress,callback:function(t){e.$set(e.signup,"EmailAddress","string"===typeof t?t.trim():t)},expression:"signup.EmailAddress"}})],1),r("v-col",{staticClass:"px-2",attrs:{cols:"12",lg:"6"}},[r("v-text-field",{attrs:{rules:[e.validators.required,e.validators.AlphanumericsRegex],error:e.signup.username.error,"error-messages":e.signup.username.ErrorMessage,loading:e.signup.username.loading,label:"Username *",outlined:"",dense:"",name:"Username","prepend-inner-icon":"mdi-account-circle"},on:{blur:e.CheckUsername},model:{value:e.signup.username.value,callback:function(t){e.$set(e.signup.username,"value","string"===typeof t?t.trim():t)},expression:"signup.username.value"}})],1),r("v-col",{staticClass:"px-2",attrs:{cols:"12",lg:"7"}},[r("vue-tel-input-vuetify",{attrs:{rules:[e.validators.required,e.validators.NumericsRegex],defaultCountry:"KE",preferredCountries:["KE","UG","TZ"],mode:"international",inputOptions:{showDialCode:!0},selectLabel:"Country *",label:"Phone Number *",outlined:"",dense:""},on:{"country-changed":e.GetCountry},model:{value:e.signup.PhoneNumber,callback:function(t){e.$set(e.signup,"PhoneNumber",t)},expression:"signup.PhoneNumber"}})],1),r("v-col",{staticClass:"px-2",attrs:{cols:"12",lg:"5"}},[r("v-select",{attrs:{rules:[e.validators.required],items:["Company","Individual"],label:"Account Type *",outlined:"",dense:"","prepend-inner-icon":"mdi-account-box"},model:{value:e.signup.AccountType,callback:function(t){e.$set(e.signup,"AccountType","string"===typeof t?t.trim():t)},expression:"signup.AccountType"}})],1),"Company"===e.signup.AccountType?r("v-col",{staticClass:"px-2",attrs:{cols:"12"}},[r("v-text-field",{attrs:{rules:[e.validators.required,e.validators.AlphanumericsRegex],label:"Company Name *",outlined:"",dense:"",name:"CompanyName","prepend-inner-icon":"mdi-domain"},model:{value:e.signup.CompanyName,callback:function(t){e.$set(e.signup,"CompanyName","string"===typeof t?t.trim():t)},expression:"signup.CompanyName"}})],1):e._e(),r("TermsAndConditions",{ref:"TermsAndConditions"}),r("v-col",{staticClass:"px-2 pt-6 pb-3",attrs:{cols:"12"}},[r("v-btn-toggle",[r("v-btn",{staticStyle:{color:"white !important"},attrs:{color:"primary",width:"100",height:"35",loading:e.signup.loading,disabled:!e.signup.valid||e.signup.loading},on:{click:e.SignUp}},[e._v("SIGN UP")]),r("v-btn",{ref:"GoToLogin",attrs:{color:"primary",width:"120",height:"35",small:"",outlined:""},on:{click:e.GoToLogin}},[e._v("GO TO LOGIN")])],1)],1)],1)],1),r("img",{staticClass:"mt-n3 ml-4",attrs:{width:"95%",src:e.$store.getters.server+"img/_logo.png"}})],1)],1)],1),r("Alert",{ref:"Alert"}),r("Reset",{ref:"Reset"}),r("FirstLoginPasswordPrompt",{ref:"FirstLoginPasswordPrompt"}),r("Confirm",{ref:"Confirm",on:{confirm:function(t){return e.Confirm({task:!0})},cancel:function(t){return e.Confirm({task:!1})}}})],1)},i=[],s=(r("b0c0"),r("d3b7"),r("ac1f"),r("1276"),r("d296")),o=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("section",[r("v-dialog",{attrs:{"max-width":"400",persistent:"",transition:"dialog-bottom-transition"},model:{value:e.visible,callback:function(t){e.visible=t},expression:"visible"}},[r("v-card",{attrs:{flat:"",tile:""}},[r("v-toolbar",{attrs:{height:"35",dark:"",color:"primary",src:e.$store.getters.server+"img/backdrops/"+e.$store.getters.background},scopedSlots:e._u([{key:"img",fn:function(t){var n=t.props;return[r("v-img",e._b({attrs:{gradient:"to top right, rgba(57,181,74,.9), rgba(25,32,72,.6)"}},"v-img",n,!1))]}}])},[r("v-icon",{attrs:{size:"20"}},[e._v("mdi-lock-reset")]),r("span",{staticClass:"body-2 ml-2"},[e._v("Forgot password?")]),r("v-spacer"),r("v-icon",{staticClass:"ml-5",attrs:{size:"18"},on:{click:function(t){e.visible=!1}}},[e._v("mdi-close")])],1),r("v-img",{staticClass:"my-8",staticStyle:{filter:"hue-rotate(215deg)"},attrs:{height:"230",src:e.$store.getters.server+"img/illustrations/reset.jpg"}}),r("v-form",{ref:"EmailAddress",staticClass:"CustomFormModifier pb-4",on:{submit:function(e){e.preventDefault()}},model:{value:e.EmailAddress.valid,callback:function(t){e.$set(e.EmailAddress,"valid",t)},expression:"EmailAddress.valid"}},[r("div",{staticClass:"mb-3 mx-5 text-center text-body-2"},[e._v(" Enter the email address associated with your account and we will send you a link to reset your password. ")]),r("v-text-field",{staticClass:"mx-4",attrs:{rules:[e.validators.required,e.validators.email],name:"EmailAddress",outlined:"",dense:"",clearable:"",label:"Email Address *","prepend-inner-icon":"mdi-email-variant"},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.Forget(t)}},model:{value:e.EmailAddress.value,callback:function(t){e.$set(e.EmailAddress,"value",t)},expression:"EmailAddress.value"}}),r("v-row",{attrs:{"no-gutters":"",justify:"center"}},[r("v-btn",{attrs:{disabled:!e.EmailAddress.valid||e.EmailAddress.loading,loading:e.EmailAddress.loading,color:"primary"},on:{click:e.Reset}},[e._v("REQUEST RESET")])],1)],1)],1)],1),r("Alert",{ref:"Alert"})],1)},a=[],l={data:function(){return{visible:!1,EmailAddress:{valid:!0,value:null,loading:!1}}},methods:{Reset:function(){var e=this;this.EmailAddress.loading=!0,this.promiseFetch(this.$store.getters.fetchTimeout)(fetch(this.$store.getters.endpoint+"Reset/",{method:"post",body:JSON.stringify({EmailAddress:this.EmailAddress.value})})).then((function(t){t.text().then((function(r){switch(t.status){case 200:e.visible=!1,e.$refs.Alert.Alertify({visible:!0,content:r,title:"Password Changed",icon:"mdi-check-decagram",color:"primary"});break;case 401:e.$refs.Alert.Alertify({visible:!0,content:r,title:"Reset Error",icon:"mdi-email-variant",color:"error"});break;case 403:e.$refs.Alert.Alertify({visible:!0,content:r,title:"Reset attempts exceeded",icon:"mdi-lock-reset",color:"error"});break;default:e.$refs.Alert.Alertify({visible:!0,content:"Oops...something went wrong while executing the request. Kindly try again or contact support",title:"Something went wrong",icon:"mdi-progress-alert",color:"error"});break}}))})).catch((function(){e.$refs.Alert.Alertify({visible:!0,content:e.$store.getters.fetchTimeoutError,title:"Connection Timeout",icon:"mdi-wifi-strength-1-alert",color:"error"})})).finally((function(){e.EmailAddress.loading=!1}))}}},c=l,u=r("2877"),d=Object(u["a"])(c,o,a,!1,null,null,null),m=d.exports,p=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("section",[r("v-dialog",{attrs:{"max-width":"450",transition:"fab-transition",persistent:""},model:{value:e.visible,callback:function(t){e.visible=t},expression:"visible"}},[r("v-card",{attrs:{flat:"",tile:""}},[r("div",{staticClass:"CustomFormModifier",staticStyle:{"max-height":"75vh","overflow-y":"auto","overflow-x":"hidden"}},[r("v-row",{attrs:{"no-gutters":""}},[r("v-col",{staticClass:"text-center"},[r("v-img",{staticStyle:{filter:"hue-rotate(215deg)"},attrs:{height:"230",src:e.$store.getters.server+"img/illustrations/password.jpg"}}),r("div",{staticClass:"mt-3 mb-2 text-h5 font-weight-bold"},[e._v(" Change Password ")]),r("div",{staticClass:"mb-4 mx-5 text-body-2"},[e._v(" We are very cautious about protecting your information. You will need to change the password we sent you via email before you proceed. ")])],1)],1),r("v-form",{ref:"ChangePassword",staticClass:"CustomFormModifier px-10 pb-5",model:{value:e.password.valid,callback:function(t){e.$set(e.password,"valid",t)},expression:"password.valid"}},[r("v-row",{attrs:{"no-gutters":"",justify:"center"}},[r("v-text-field",{attrs:{label:"Current Password","prepend-inner-icon":"mdi-shield-key","append-icon":e.password.CurrentPassword.type?"mdi-eye":"mdi-eye-off",type:e.password.CurrentPassword.type?"text":"password",rules:[e.validators.required,e.validators.password],counter:"",outlined:"",dense:""},on:{"click:append":function(t){e.password.CurrentPassword.type=!e.password.CurrentPassword.type},keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.ChangePassword(t)}},model:{value:e.password.CurrentPassword.value,callback:function(t){e.$set(e.password.CurrentPassword,"value",t)},expression:"password.CurrentPassword.value"}}),r("v-text-field",{attrs:{label:"New Password","prepend-inner-icon":"mdi-shield-key","append-icon":e.password.NewPassword.type?"mdi-eye":"mdi-eye-off",type:e.password.NewPassword.type?"text":"password",rules:[e.validators.required,e.validators.password],counter:"",outlined:"",dense:""},on:{"click:append":function(t){e.password.NewPassword.type=!e.password.NewPassword.type},keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.ChangePassword(t)}},model:{value:e.password.NewPassword.value,callback:function(t){e.$set(e.password.NewPassword,"value",t)},expression:"password.NewPassword.value"}}),r("v-text-field",{attrs:{label:"Confirm Password","prepend-inner-icon":"mdi-shield-key-outline","append-icon":e.password.ConfirmPassword.type?"mdi-eye":"mdi-eye-off",type:e.password.ConfirmPassword.type?"text":"password",rules:[e.validators.required,e.validators.password,e.validators.confirm],counter:"",outlined:"",dense:""},on:{"click:append":function(t){e.password.ConfirmPassword.type=!e.password.ConfirmPassword.type},keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.ChangePassword(t)}},model:{value:e.password.ConfirmPassword.value,callback:function(t){e.$set(e.password.ConfirmPassword,"value",t)},expression:"password.ConfirmPassword.value"}}),r("v-col",{attrs:{cols:"12",align:"center"}},[r("v-btn",{staticClass:"mt-2",attrs:{disabled:!e.password.valid||e.password.loading||e.password.NewPassword.value!=e.password.ConfirmPassword.value,loading:e.password.loading,color:"primary"},on:{click:e.ChangePassword}},[e._v("CHANGE PASSWORD")])],1)],1)],1)],1)])],1),r("Alert",{ref:"Alert"})],1)},f=[],v={data:function(){return{visible:!1,password:{valid:!1,loading:!1,CurrentPassword:{type:!1,value:null},NewPassword:{type:!1,value:null},ConfirmPassword:{type:!1,value:null}}}},methods:{ChangePassword:function(){var e=this;this.password.loading=!0;var t=/^(?=.*?[A-Z])(?=.*?[a-z])(?=.*?[0-9])(?=.*?[#?!@$%^&*-]).{8,}$/.test(this.password.NewPassword.value);t?this.promiseFetch(this.$store.getters.fetchTimeout)(fetch(this.$store.getters.endpoint+"ChangePassword/",{method:"post",body:JSON.stringify({token:this.$store.getters.token,CurrentPassword:this.password.CurrentPassword.value,NewPassword:this.password.NewPassword.value})})).then((function(t){t.text().then((function(r){t.status>200?e.$refs.Alert.Alertify(JSON.parse(r)):"/"===e.$route.fullPath?e.$router.push("/MyApps"):location.reload()}))})).catch((function(){e.$refs.Alert.Alertify({visible:!0,content:e.$store.getters.fetchTimeoutError,title:"Connection Timeout",icon:"mdi-wifi-strength-1-alert",color:"error"})})).finally((function(){e.password.loading=!1})):(this.password.loading=!1,this.$refs.Alert.Alertify({visible:!0,content:"Password is meant to be at least 8 characters long, have at least 1 uppercase, 1 lowercase and 1 special character.",title:"Invalid password",icon:"mdi-shield-account",color:"error"}))}}},g=v,h=Object(u["a"])(g,p,f,!1,null,null,null),b=h.exports,y={components:{TermsAndConditions:s["a"],Reset:m,FirstLoginPasswordPrompt:b},data:function(){return{login:{visible:!1,valid:!1,loading:!1,EmailOrUsername:null,password:null,phone:{visible:!0,value:""},OTP:{visible:!1,value:""}},signup:{visible:!1,valid:!1,loading:!1,FirstName:null,LastName:null,EmailAddress:null,username:{value:null,error:!1,ErrorMessage:null,loading:!1},PhoneNumber:null,country:null,AccountType:null,CompanyName:null,password:null,phone:{visible:!0,value:""},OTP:{visible:!1,value:""}}}},methods:{GoToSignUp:function(){this.$refs.Login.reset(),this.login.visible=!1,this.signup.visible=!0},GoToLogin:function(){this.signup.visible=!1,this.login.visible=!0},Confirm:function(e){"show"==e.task?this.$refs.Confirm.Confirmify({visible:!0,operation:e.operation,metadata:e.metadata,content:e.content,title:e.title,icon:e.icon||"mdi-help-circle",color:e.color||"orange",truth:e.truth||"YES",falsy:e.falsy||"NO"}):e.task?(this.$refs.Confirm.Confirmify({visible:!1}),this.$refs.Reset.visible=!0):e.task||this.$refs.Confirm.Confirmify({visible:!1})},Login:function(){var e=this;this.loading=!0,this.promiseFetch(this.$store.getters.fetchTimeout)(fetch(this.$store.getters.endpoint+"Login/",{method:"post",body:JSON.stringify({EmailOrUsername:this.login.EmailOrUsername,password:btoa(this.login.password)})})).then((function(t){t.text().then((function(r){if(406===t.status)e.Confirm({task:"show",color:"orange",icon:"mdi-lock-reset",content:r,title:"Password reset required!",truth:"OK",falsy:"HIDDEN"});else if(t.status>200)e.$refs.Alert.Alertify({visible:!0,content:r,title:"Invalid Credentials",icon:"mdi-progress-alert",color:"error"});else{localStorage.setItem("daraja",JSON.parse(r).token),e.$store.dispatch("StoreToken",JSON.parse(r).token);var n=JSON.parse(atob(JSON.parse(r).token.split(".")[1])).data.FirstTimeLogin;n?e.$refs.FirstLoginPasswordPrompt.visible=!0:"/"===e.$route.fullPath?e.$router.push("/MyApps"):(e.login.visible=!1,e.$router.push("Reloader"),e.$router.back())}}))})).catch((function(){e.$refs.Alert.Alertify({visible:!0,content:e.$store.getters.fetchTimeoutError,title:"Connection Timeout",icon:"mdi-wifi-strength-1-alert",color:"error"})})).finally((function(){e.loading=!1}))},GetCountry:function(e){this.signup.country=e.name},CheckUsername:function(){var e=this,t=this.signup.username.value;this.signup.username.loading=!0,this.promiseFetch(this.$store.getters.fetchTimeout)(fetch(this.$store.getters.endpoint+"CheckUsername/",{method:"post",body:JSON.stringify({username:t})})).then((function(r){r.text().then((function(n){r.status>200?(e.$refs.Alert.Alertify({visible:!0,content:"Username <b>"+t+"</b> you entered is already taken. Kindly try another.",title:"Username taken!",icon:"mdi-account-card-details",color:"error"}),e.signup.username.ErrorMessage=t+" is taken",e.signup.username.error=!0):0==JSON.parse(n)?(e.signup.username.ErrorMessage=t+" is taken",e.signup.username.error=!0):(e.signup.username.ErrorMessage=null,e.signup.username.error=!1)})).finally((function(){e.signup.username.loading=!1}))}))},SignUp:function(){var e=this;this.signup.loading=!0,this.promiseFetch(this.$store.getters.fetchTimeout)(fetch(this.$store.getters.endpoint+"SignUp/",{method:"post",body:JSON.stringify({FirstName:this.signup.FirstName,LastName:this.signup.LastName,EmailAddress:this.signup.EmailAddress,username:this.signup.username.value,PhoneNumber:this.signup.PhoneNumber,country:this.signup.country,AccountType:this.signup.AccountType,CompanyName:this.signup.CompanyName||null})})).then((function(t){t.text().then((function(r){t.status>300?e.$refs.Alert.Alertify({visible:!0,content:r,title:"Already exists",icon:"mdi-progress-alert",color:"error"}):201===t.status?e.$refs.Alert.Alertify({visible:!0,content:r,title:"Success",icon:"mdi-progress-alert",color:"orange"}):(e.$refs.SignUp.reset(),e.$refs.GoToLogin.$el.click(),e.$refs.Alert.Alertify({visible:!0,content:r,title:"Success",icon:"mdi-check-decagram",color:"primary"}))}))})).catch((function(){e.$refs.Alert.Alertify({visible:!0,content:e.$store.getters.fetchTimeoutError,title:"Connection Timeout",icon:"mdi-wifi-strength-1-alert",color:"error"})})).finally((function(){e.signup.loading=!1}))},Validate:function(){var e=this;this.loading.validate=!0,this.promiseFetch(this.$store.getters.fetchTimeout)(fetch(this.$store.getters.endpoint+"OTP/Validate/",{method:"post",body:JSON.stringify({OTP:this.OTP.value,phone:this.phone.value})})).then((function(t){t.text().then((function(r){t.status>200?e.$refs.Alert.Alertify({visible:!0,content:r,title:"Invalid OTP",icon:"mdi-progress-alert",color:"error"}):e.$router.push("/Applications")}))})).catch((function(){e.$refs.Alert.Alertify({visible:!0,content:e.$store.getters.fetchTimeoutError,title:"Connection Timeout",icon:"mdi-wifi-strength-1-alert",color:"error"})})).finally((function(){e.loading.validate=!1}))},Generate:function(){var e=this;this.loading.generate=!0,this.promiseFetch(this.$store.getters.fetchTimeout)(fetch(this.$store.getters.endpoint+"OTP/Generate/",{method:"post",body:JSON.stringify({phone:this.phone.value})})).then((function(t){t.text().then((function(r){t.status>200?e.$refs.Alert.Alertify({visible:!0,content:r,title:"Generate Error",icon:"mdi-alert",color:"error"}):e.OTP.value=""}))})).catch((function(){e.$refs.Alert.Alertify({visible:!0,content:e.$store.getters.fetchTimeoutError,title:"Connection Timeout",icon:"mdi-wifi-strength-1-alert",color:"error"})})).finally((function(){e.loading.generate=!1}))}}},k=y,w=(r("872a"),Object(u["a"])(k,n,i,!1,null,null,null));t["a"]=w.exports},d296:function(e,t,r){"use strict";var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("section",[r("v-dialog",{attrs:{"max-width":"800",transition:"slide-y-transition"},model:{value:e.visible,callback:function(t){e.visible=t},expression:"visible"}},[r("v-card",{staticClass:"rounded-lg",attrs:{flat:"",tile:""}},[r("v-toolbar",{attrs:{height:"40",dark:"",color:"primary",src:e.$store.getters.server+"img/backdrops/"+e.$store.getters.background},scopedSlots:e._u([{key:"img",fn:function(t){var n=t.props;return[r("v-img",e._b({attrs:{gradient:"to top right, rgba(57,181,74,.9), rgba(25,32,72,.6)"}},"v-img",n,!1))]}}])},[r("v-icon",[e._v("mdi-book-open-outline")]),r("span",{staticClass:"subtitle-1 mt-1 ml-3"},[e._v("Terms & Conditions")]),r("v-spacer"),r("v-icon",{staticClass:"ml-5",attrs:{size:"20"},on:{click:function(t){e.visible=!1}}},[e._v("mdi-close")])],1),r("div",{style:e.fullscreen?"max-height: 90vh; overflow-y: auto":"max-height: 75vh; overflow-y: auto"},[r("div",{staticClass:"pa-5",domProps:{innerHTML:e._s(e.content)}})])],1)],1),r("v-divider",{staticClass:"mt-2 ml-2"}),r("v-row",{staticClass:"mt-5 ml-2",attrs:{align:"center","no-gutters":""}},[r("v-col",{staticClass:"mt-n5",attrs:{cols:"2",sm:"1"}},[r("v-checkbox",{attrs:{color:"primary","hide-details":"",rules:[e.validators.required]},model:{value:e.agreed,callback:function(t){e.agreed=t},expression:"agreed"}})],1),r("v-col",{attrs:{cols:"10",sm:"11"}},[r("span",{staticClass:"subtitle-2"},[e._v(" I accept Safaricom's "),r("v-chip",{staticClass:"ml-1 mr-2",attrs:{outlined:"",small:"",label:"",color:"primary"},on:{click:function(t){e.visible=!0}}},[e._v("Terms & Conditions")]),e._v("concerning this application ")],1)])],1)],1)},i=[],s=(r("d3b7"),{data:function(){return{agreed:!1,visible:!1,fullscreen:!1,content:null}},created:function(){var e=this;this.$Progress.start(),this.promiseFetch(this.$store.getters.fetchTimeout)(fetch(this.$store.getters.endpoint+"TermsAndConditions/")).then((function(t){t.text().then((function(r){t.status>200?e.$refs.Alert.Alertify({visible:!0,content:r,title:"Request Failed!",icon:"mdi-alert-decagram-outline",color:"error"}):e.content=JSON.parse(r)}))})).catch((function(){e.$refs.Alert.Alertify({visible:!0,content:e.$store.getters.fetchTimeoutError,title:"Connection Timeout",icon:"mdi-wifi-strength-1-alert",color:"error"})})).finally((function(){e.$Progress.finish()}))}}),o=s,a=r("2877"),l=Object(a["a"])(o,n,i,!1,null,null,null);t["a"]=l.exports}});